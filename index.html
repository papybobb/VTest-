<!DOCTYPE html>

<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ˜ˆLe V Menu ðŸ˜ˆ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: #F8F7F4;
        color: #1A1A1A;
        line-height: 1.6;
    }

    .header {
        background: linear-gradient(135deg, #2C2C2C 0%, #1A1A1A 100%);
        padding: 3rem 1.5rem;
        text-align: center;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .brand-title {
        font-family: 'Playfair Display', serif;
        font-size: 2.5rem;
        margin-bottom: 0.75rem;
        font-weight: 700;
        color: #FFFFFF;
        letter-spacing: -0.5px;
    }

    .brand-subtitle {
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.95rem;
        font-weight: 300;
        letter-spacing: 1px;
        text-transform: uppercase;
    }

    .products-section {
        padding: 3rem 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 2rem;
    }

    .product-card {
        background: #FFFFFF;
        border-radius: 20px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
        border: 1px solid rgba(0, 0, 0, 0.06);
    }

    .product-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
    }

    .product-image-container {
        position: relative;
        overflow: hidden;
        height: 260px;
        background: #F5F5F5;
    }

    .product-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.6s ease;
    }

    .product-card:hover .product-image {
        transform: scale(1.05);
    }

    .product-badge {
        position: absolute;
        top: 16px;
        right: 16px;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        color: #1A1A1A;
        padding: 0.5rem 1rem;
        border-radius: 30px;
        font-size: 0.75rem;
        font-weight: 600;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .product-info {
        padding: 2rem;
    }

    .product-title {
        font-family: 'Playfair Display', serif;
        font-size: 1.5rem;
        margin-bottom: 0.75rem;
        font-weight: 600;
        color: #1A1A1A;
        line-height: 1.3;
    }

    .product-description {
        color: #666666;
        margin-bottom: 1.5rem;
        font-size: 0.9rem;
        line-height: 1.6;
        font-weight: 400;
    }

    .product-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 1rem;
        border-top: 1px solid rgba(0, 0, 0, 0.06);
    }

    .product-price {
        font-size: 1.6rem;
        font-weight: 700;
        color: #1A1A1A;
        font-family: 'Inter', sans-serif;
    }

    .product-rating {
        color: #1A1A1A;
        font-size: 0.85rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.35rem;
    }

    /* Modal */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(26, 26, 26, 0.85);
        backdrop-filter: blur(8px);
        z-index: 1000;
        overflow-y: auto;
        padding: 1rem;
    }

    .modal.active {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .modal-content {
        background: #FFFFFF;
        border-radius: 24px;
        max-width: 640px;
        width: 100%;
        position: relative;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .modal-close {
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: none;
        color: #1A1A1A;
        font-size: 1.5rem;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        cursor: pointer;
        z-index: 10;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        font-weight: 300;
    }

    .modal-close:hover {
        background: #F5F5F5;
        transform: rotate(90deg);
    }

    .modal-media {
        position: relative;
        height: 320px;
        background: #F5F5F5;
        border-radius: 24px 24px 0 0;
        overflow: hidden;
    }

    .modal-media img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .modal-info {
        padding: 2.5rem;
    }

    .modal-title {
        font-family: 'Playfair Display', serif;
        font-size: 2rem;
        margin-bottom: 0.75rem;
        color: #1A1A1A;
        font-weight: 600;
        line-height: 1.3;
    }

    .modal-price {
        font-size: 2.2rem;
        color: #1A1A1A;
        margin-bottom: 1.5rem;
        font-weight: 700;
    }

    .modal-description {
        color: #666666;
        margin-bottom: 2.5rem;
        line-height: 1.8;
        font-size: 0.95rem;
    }

    .format-label {
        display: block;
        font-weight: 600;
        margin-bottom: 1rem;
        font-size: 1rem;
        color: #1A1A1A;
        letter-spacing: -0.2px;
    }

    .format-option {
        background: #F8F7F4;
        padding: 1.25rem 1.5rem;
        border-radius: 16px;
        margin-bottom: 0.75rem;
        cursor: pointer;
        border: 2px solid transparent;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: all 0.3s ease;
    }

    .format-option:hover {
        background: #F0EFE9;
        border-color: #1A1A1A;
    }

    .format-option.selected {
        border-color: #1A1A1A;
        background: #FFFFFF;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }

    .format-name {
        font-weight: 500;
        color: #1A1A1A;
    }

    .format-price {
        color: #1A1A1A;
        font-weight: 700;
        font-size: 1.1rem;
    }

    .order-btn {
        width: 100%;
        background: #1A1A1A;
        color: #FFFFFF;
        border: none;
        padding: 1.3rem;
        border-radius: 16px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        margin: 2.5rem 0;
        transition: all 0.3s ease;
        letter-spacing: 0.3px;
        text-transform: uppercase;
        font-size: 0.9rem;
    }

    .order-btn:hover {
        background: #000000;
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    }

    .order-btn:active {
        transform: translateY(0);
    }

    .rating-section {
        background: #F8F7F4;
        padding: 2rem;
        border-radius: 16px;
        margin-bottom: 2rem;
    }

    .rating-section h3 {
        margin-bottom: 1.25rem;
        color: #1A1A1A;
        font-weight: 600;
        font-size: 1.1rem;
        font-family: 'Inter', sans-serif;
    }

    .stars {
        font-size: 2rem;
        margin: 1rem 0;
        display: flex;
        gap: 0.5rem;
    }

    .star {
        cursor: pointer;
        color: #D1D1D1;
        transition: all 0.2s ease;
    }

    .star:hover,
    .star.active {
        color: #1A1A1A;
        transform: scale(1.15);
    }

    .rating-average {
        color: #666666;
        font-size: 0.9rem;
        margin-top: 1rem;
        font-weight: 400;
    }

    .comments-section {
        background: #F8F7F4;
        padding: 2rem;
        border-radius: 16px;
    }

    .comments-section h3 {
        margin-bottom: 1.25rem;
        color: #1A1A1A;
        font-weight: 600;
        font-size: 1.1rem;
        font-family: 'Inter', sans-serif;
    }

    .comment-form textarea {
        width: 100%;
        background: #FFFFFF;
        border: 2px solid transparent;
        border-radius: 12px;
        padding: 1rem 1.25rem;
        color: #1A1A1A;
        font-family: 'Inter', sans-serif;
        font-size: 0.95rem;
        resize: vertical;
        transition: all 0.3s ease;
        line-height: 1.6;
    }

    .comment-form textarea:focus {
        outline: none;
        border-color: #1A1A1A;
        background: #FFFFFF;
    }

    .comment-form textarea::placeholder {
        color: #999999;
    }

    .submit-comment {
        margin-top: 1rem;
        background: #1A1A1A;
        color: #FFFFFF;
        border: none;
        padding: 0.85rem 1.75rem;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
    }

    .submit-comment:hover {
        background: #000000;
        transform: translateY(-2px);
    }

    .comment {
        background: #FFFFFF;
        padding: 1.5rem;
        border-radius: 12px;
        margin-top: 1rem;
        border: 1px solid rgba(0, 0, 0, 0.06);
    }

    .comment-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
    }

    .comment-author {
        font-weight: 600;
        color: #1A1A1A;
        font-size: 0.95rem;
    }

    .comment-rating {
        color: #1A1A1A;
        font-size: 0.85rem;
    }

    .comment-text {
        color: #666666;
        line-height: 1.7;
        font-size: 0.9rem;
    }

    .comment-date {
        font-size: 0.8rem;
        color: #999999;
        margin-top: 0.75rem;
        font-weight: 400;
    }

    .no-comments {
        text-align: center;
        color: #999999;
        padding: 2.5rem 1rem;
        font-style: italic;
        font-size: 0.9rem;
    }

    /* Scrollbar personnalisÃ©e */
    ::-webkit-scrollbar {
        width: 10px;
    }

    ::-webkit-scrollbar-track {
        background: #F5F5F5;
    }

    ::-webkit-scrollbar-thumb {
        background: #D1D1D1;
        border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #1A1A1A;
    }

    @media (max-width: 768px) {
        .products-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        
        .brand-title {
            font-size: 2rem;
        }
        
        .modal-info {
            padding: 2rem 1.5rem;
        }
        
        .modal-title {
            font-size: 1.6rem;
        }
        
        .products-section {
            padding: 2rem 1rem;
        }
    }

    /* Animation d'apparition */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .product-card {
        animation: fadeInUp 0.6s ease-out backwards;
    }

    .product-card:nth-child(1) { animation-delay: 0.1s; }
    .product-card:nth-child(2) { animation-delay: 0.2s; }
    .product-card:nth-child(3) { animation-delay: 0.3s; }
    .product-card:nth-child(4) { animation-delay: 0.4s; }
</style>
```

</head>
<body>
    <header class="header">
        <h1 class="brand-title">ðŸ˜ˆLe V MenuðŸ˜ˆ</h1>
        <p class="brand-subtitle">Produits de qualitÃ© premium, choisis et cuisinÃ© avec soin</p>
    </header>

```
<main class="products-section">
    <div class="products-grid" id="productsGrid"></div>
</main>

<!-- Modal -->
<div class="modal" id="productModal">
    <div class="modal-content">
        <button class="modal-close" onclick="closeModal()">&times;</button>
        <div class="modal-media">
            <img id="modalImage" src="" alt="">
        </div>
        <div class="modal-info">
            <h2 class="modal-title" id="modalTitle"></h2>
            <p class="modal-price" id="modalPrice"></p>
            <p class="modal-description" id="modalDescription"></p>
            
            <label class="format-label">Choisissez votre format</label>
            <div id="formatOptions"></div>
            
            <button class="order-btn" onclick="orderProduct()">Commander maintenant</button>
            
            <div class="rating-section">
                <h3>Notez ce produit</h3>
                <div class="stars" id="starsInput">
                    <span class="star" onclick="addRating(1)">â˜†</span>
                    <span class="star" onclick="addRating(2)">â˜†</span>
                    <span class="star" onclick="addRating(3)">â˜†</span>
                    <span class="star" onclick="addRating(4)">â˜†</span>
                    <span class="star" onclick="addRating(5)">â˜†</span>
                </div>
                <p class="rating-average" id="ratingAverage"></p>
            </div>
            
            <div class="comments-section">
                <h3>Commentaires</h3>
                <div class="comment-form">
                    <textarea id="commentInput" placeholder="Partagez votre expÃ©rience..." rows="3"></textarea>
                    <button class="submit-comment" onclick="addComment()">Publier</button>
                </div>
                <div id="commentsList"></div>
            </div>
        </div>
    </div>
</div>

<script>
    // ========================================
    // âš ï¸ CONFIGURATION - MODIFIEZ ICI
    // ========================================
    const CONFIG = {
        // Votre nom d'utilisateur Telegram (sans le @)
        telegramUsername: 'Le_V667',
        
        // Vos produits
        products: [
            {
                id: 1,
                name: 'Brownies Drysift 90u Gorilla Glue',
                description: 'Sec et puissant en boucheðŸ«ðŸ˜.',
                price: '8â‚¬',
                image: 'https://github.com/papybobb/VTest-/blob/main/images/h.jpeg?raw=true',
                badge: 'Top 1ðŸ¥‡',
                formats: [
                    { name: 'Petite part (2.5)', price: '20â‚¬' },
                    { name: 'Moyenne part (5)', price: '40â‚¬' },
                    { name: 'Grande part (10)', price: '80â‚¬' },
                    { name: 'Livraison', price: '+10â‚¬' }
                ],
                ratings: [],
                comments: []
            },
            {
                id: 2,
                name: 'Sucre Glass Isomere R/S',
                description: 'Sucre gourmand, Recette spÃ©ciale Hippodrome ðŸ¦„ðŸŒˆ',
                price: '20â‚¬',
                image: 'https://github.com/papybobb/VTest-/blob/7accbb5e5334920a251621820b8980259a3a754a/gitkeep/5459730950277455403.mp4?raw=true',
                badge: 'ðŸŒˆ',
                formats: [
                    { name: '1', price: '20â‚¬' },
                    { name: '3', price: '60â‚¬' },
                    { name: '5', price: '100â‚¬' },
                    { name: 'Livraison', price: '+10â‚¬' }
                ],
                ratings: [],
                comments: []
            },
        ]
    };

    // Variables globales
    let currentProduct = null;
    let selectedFormat = null;

    // Initialisation
    window.onload = function() {
        initTelegramWebApp();
        loadProducts();
        loadStoredData();
    };

    function initTelegramWebApp() {
        if (window.Telegram && window.Telegram.WebApp) {
            const tg = window.Telegram.WebApp;
            tg.ready();
            tg.expand();
        }
    }

    function loadProducts() {
        const grid = document.getElementById('productsGrid');
        
        CONFIG.products.forEach(product => {
            const avgRating = calculateAverageRating(product.ratings);
            
            const card = document.createElement('div');
            card.className = 'product-card';
            card.onclick = () => openProductModal(product);
            
            card.innerHTML = `
                <div class="product-image-container">
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
                </div>
                <div class="product-info">
                    <h3 class="product-title">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <div class="product-footer">
                        <span class="product-price">${product.price}</span>
                        <div class="product-rating">
                            <span>â˜…</span>
                            <span>${avgRating.toFixed(1)}</span>
                            <span>(${product.ratings.length})</span>
                        </div>
                    </div>
                </div>
            `;
            
            grid.appendChild(card);
        });
    }

    function openProductModal(product) {
        currentProduct = product;
        selectedFormat = product.formats[0];
        
        document.getElementById('modalImage').src = product.image;
        document.getElementById('modalTitle').textContent = product.name;
        document.getElementById('modalPrice').textContent = product.price;
        document.getElementById('modalDescription').textContent = product.description;
        
        loadFormats(product.formats);
        loadRatings(product);
        loadComments(product);
        
        document.getElementById('productModal').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeModal() {
        document.getElementById('productModal').classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    function loadFormats(formats) {
        const container = document.getElementById('formatOptions');
        container.innerHTML = '';
        
        formats.forEach((format, index) => {
            const option = document.createElement('div');
            option.className = 'format-option' + (index === 0 ? ' selected' : '');
            option.onclick = () => selectFormat(format, option);
            
            option.innerHTML = `
                <span class="format-name">${format.name}</span>
                <span class="format-price">${format.price}</span>
            `;
            
            container.appendChild(option);
        });
    }

    function selectFormat(format, element) {
        selectedFormat = format;
        document.querySelectorAll('.format-option').forEach(opt => {
            opt.classList.remove('selected');
        });
        element.classList.add('selected');
    }

    function orderProduct() {
        if (!selectedFormat) {
            alert('Veuillez sÃ©lectionner un format');
            return;
        }
        
        const message = `Bonjour ! Je souhaite commander :\n\nðŸ“¦ ${currentProduct.name}\nðŸ“ Format : ${selectedFormat.name}\nðŸ’° Prix : ${selectedFormat.price}`;
        const url = `https://t.me/${CONFIG.telegramUsername}?text=${encodeURIComponent(message)}`;
        
        if (window.Telegram && window.Telegram.WebApp) {
            window.Telegram.WebApp.openTelegramLink(url);
        } else {
            window.open(url, '_blank');
        }
    }

    function addRating(rating) {
        if (!currentProduct) return;
        
        currentProduct.ratings.push(rating);
        saveToStorage();
        loadRatings(currentProduct);
        showFeedback('Merci pour votre note !');
    }

    function loadRatings(product) {
        const avgRating = calculateAverageRating(product.ratings);
        const text = product.ratings.length > 0 
            ? `Note moyenne : ${avgRating.toFixed(1)}/5 (${product.ratings.length} avis)`
            : 'Soyez le premier Ã  noter ce produit';
        
        document.getElementById('ratingAverage').textContent = text;
        updateStarsDisplay(avgRating);
    }

    function updateStarsDisplay(rating) {
        const stars = document.querySelectorAll('#starsInput .star');
        stars.forEach((star, index) => {
            if (index < Math.round(rating)) {
                star.textContent = 'â˜…';
                star.classList.add('active');
            } else {
                star.textContent = 'â˜†';
                star.classList.remove('active');
            }
        });
    }

    function calculateAverageRating(ratings) {
        if (ratings.length === 0) return 0;
        return ratings.reduce((a, b) => a + b, 0) / ratings.length;
    }

    function addComment() {
        const input = document.getElementById('commentInput');
        const text = input.value.trim();
        
        if (!text) {
            alert('Veuillez Ã©crire un commentaire');
            return;
        }
        
        const comment = {
            author: getUserName(),
            text: text,
            date: new Date().toISOString(),
            rating: calculateAverageRating(currentProduct.ratings)
        };
        
        currentProduct.comments.unshift(comment);
        saveToStorage();
        loadComments(currentProduct);
        input.value = '';
        showFeedback('Commentaire publiÃ© !');
    }

    function loadComments(product) {
        const container = document.getElementById('commentsList');
        container.innerHTML = '';
        
        if (product.comments.length === 0) {
            container.innerHTML = '<p class="no-comments">Aucun commentaire. Soyez le premier !</p>';
            return;
        }
        
        product.comments.forEach(comment => {
            const div = document.createElement('div');
            div.className = 'comment';
            
            const date = new Date(comment.date);
            const formatted = date.toLocaleDateString('fr-FR', {
                day: 'numeric',
                month: 'long',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            div.innerHTML = `
                <div class="comment-header">
                    <span class="comment-author">${escapeHtml(comment.author)}</span>
                    <span class="comment-rating">${'â˜…'.repeat(Math.round(comment.rating))}</span>
                </div>
                <p class="comment-text">${escapeHtml(comment.text)}</p>
                <p class="comment-date">${formatted}</p>
            `;
            
            container.appendChild(div);
        });
    }

    function getUserName() {
        try {
            if (window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.initDataUnsafe) {
                const user = window.Telegram.WebApp.initDataUnsafe.user;
                if (user && user.first_name) return user.first_name;
            }
        } catch (e) {}
        return 'Utilisateur';
    }

    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    function showFeedback(message) {
        const feedback = document.createElement('div');
        feedback.style.cssText = 'position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#1A1A1A;color:white;padding:1rem 2rem;border-radius:12px;font-weight:500;z-index:10000;box-shadow:0 8px 32px rgba(0,0,0,0.2);font-size:0.9rem;';
        feedback.textContent = message;
        document.body.appendChild(feedback);
        setTimeout(() => feedback.remove(), 2000);
    }

    function saveToStorage() {
        try {
            localStorage.setItem('vmenu_data', JSON.stringify(CONFIG.products));
        } catch (e) {
            console.log('Erreur de sauvegarde');
        }
    }

    function loadStoredData() {
        try {
            const stored = localStorage.getItem('vmenu_data');
            if (stored) {
                const data = JSON.parse(stored);
                data.forEach((storedProduct, index) => {
                    if (CONFIG.products[index]) {
                        CONFIG.products[index].ratings = storedProduct.ratings || [];
                        CONFIG.products[index].comments = storedProduct.comments || [];
                    }
                });
            }
        } catch (e) {
            console.log('Erreur de chargement');
        }
    }

    // Fermer modal avec Echap
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeModal();
    });

    // Fermer modal en cliquant Ã  l'extÃ©rieur
    document.getElementById('productModal').addEventListener('click', (e) => {
        if (e.target.id === 'productModal') closeModal();
    });
</script>
```

</body>
</html>
